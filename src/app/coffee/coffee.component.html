<mat-card-content>
  <mat-form-field appearance="fill">
    <mat-label> Coffee Name </mat-label>
    <input matInput name="name" [(ngModel)]="coffee.name" />
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label> Coffee Type </mat-label>
    <mat-select [(ngModel)]="coffee.type" multiple>
      <mat-select-trigger>
        {{ coffee.type || "" }}
      </mat-select-trigger>
      @for (topping of types; track topping) {
      <mat-option [value]="topping">{{ topping }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label> Place Name </mat-label>
    <input matInput name="place" [(ngModel)]="coffee.place" />
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label> Address </mat-label>
    <input matInput name="address" [(ngModel)]="coffee.location" />
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label> City </mat-label>
    <input matInput name="city" [(ngModel)]="coffee.location!.city" />
  </mat-form-field>

  <section>
    GeoLocation:
    <button mat-button (click)="accuireLocation()">
      <mat-icon>radar</mat-icon>Get Location
    </button>
  </section>

  <h4>Ratings</h4>
  <mat-label> Overall Rating </mat-label>
  <mat-slider max="10" discrete step="1">
    <input name="rating" matSliderThumb [(ngModel)]="coffee.rating" />
  </mat-slider>

  <mat-slide-toggle
    #tastingSelector
    [checked]="tastingEnabled"
    (change)="tastingRatingChanged(tastingSelector.checked)"
  >
    Tasting Ratings
  </mat-slide-toggle>
  @if (tastingSelector.checked) {
  <section id="tasting">
    <label>Flavour</label>
    <mat-slider max="10" discrete step="1">
      <input
        name="flavourRating"
        matSliderThumb
        [(ngModel)]="coffee.testingRating!.flavor"
      />
    </mat-slider>

    <label>Intensity</label>
    <mat-slider max="10" discrete step="1">
      <input
        name="intensityrating"
        matSliderThumb
        [(ngModel)]="coffee.testingRating!.intensity"
      />
    </mat-slider>

    <label>Sweetness</label>
    <mat-slider max="10" discrete step="1">
      <input
        name="sweetnessRating"
        matSliderThumb
        [(ngModel)]="coffee.testingRating!.sweetness"
      />
    </mat-slider>

    <label>AfterTaste</label>
    <mat-slider max="10" discrete step="1">
      <input
        name="afterTasteRating"
        matSliderThumb
        [(ngModel)]="coffee.testingRating!.afterstate"
      />
    </mat-slider>
  </section>
  }

  <h2>Additional Info</h2>
  <mat-form-field appearance="fill">
    <mat-label> Notes </mat-label>
    <textarea matInput name="notes" [(ngModel)]="coffee.notes"></textarea>
  </mat-form-field>
</mat-card-content>

<mat-card-actions>
  <button mat-button (click)="cancel()">Cancel</button>
  <button mat-button color="accent" (click)="save()">Save</button>
</mat-card-actions>
